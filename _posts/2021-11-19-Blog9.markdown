---
layout: post
title:  "Blog 9"
date:   2021-11-12 07:55:21 -0700
categories: jekyll update
---
This week I worked on my senior project for CIT 480. My goal was to automate prometheus and node exporter using ansible for an ec2 instance. I started with writing the roles for ansible to run through and complete the tasks with one main.yml file. This is preferable due to needing to automate apache, ansible and port exporter files. After, I created a simple file to install apache with ansible automation. Next I created two directories for the files and tasks necessary to run prometheus. I created a prometheus.service and prometheus.yml file within the files directory as the configurations that I wanted to specify for prometheus. Next, I created the main.yml file for ansible to install prometheus and the files that are needed to be moved into specific directories along with starting node exporter. I fundamentally did the same for node exporter in regards to downloading and moving files into their proper directories. One challenge that I encountered working with ansible was the spacing or indentation required. It was difficult to troubleshoot as I would have to go line by line and make sure that every line of code was properly spaced rather than tabbed. Another issue I had was copying the files into the proper directories. This was mostly due to placing the github file within the home directory of the ec2 instance. After some manual interventions I was able to get the files within the proper directories and was able to test it to make sure it works with the proper ports open. One of the major things I learned was that the manual installation of all these services would require tons of time if I had to do this to multiple machines. Specifying hosts within ansible playbooks would drop the required time drastically as long as it is properly configured. 